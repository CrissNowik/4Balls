<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <title>Page Title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, target-densitydpi=device-dpi"/>
        <script src="js/BoardRenderer.js"></script>
        <script src="js/BoardModel.js"></script>
        <style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                border: 0;
            }
        </style>
        <script>
            let canvas;
            let ctx;
        function init(){
            canvas = initFullScreenCanvas("mainCanvas");
            ctx = canvas.getContext("2d");
            repaint();
/**
fitting canvas to page size
@param canvasID - string - ID of html canvas tag
*/
            function initFullScreenCanvas(canvasID) {
                let canvas = document.getElementById(canvasID);
                resizeCanvas(canvas);
                window.addEventListener("resize", function () {
                    resizeCanvas(canvas);
                });
                return canvas;
            }
/**
change canvas size
*/
            function resizeCanvas(canvas) {
                canvas.width = document.width || document.body.clientWidth;
                canvas.height = document.height || document.body.clientHeight;
                // inform main game object about resize!!!!!!
                repaint();
            }
// blocking game orientation
            function repaint() {
                if (!ctx) {
                    return;
                }
                ctx.fillStyle = "#fff";
                ctx.fillRect(0,0, canvas.width, canvas.height);

                reorient();
                ctx.fillStyle = "darkgreen";
                ctx.fillRect(10, 10, 250, 30);
            }

            function reorient() {
                let angle = window.orientation;
                if (angle) {
                    let rot = -Math.PI*(angle/180);
                    ctx.translate(
                        angle == -90 ? canvas.width : 0, 
                        angle == 90 ? canvas.height : 0);
                        ctx.rotate(rot);
                }
            }
// gradient
            // let gradient = ctx.createLinearGradient(0,0,0, 300);

            // gradient.addColorStop(0, '#fff');
            // gradient.addColorStop(1, '#c6c602');
            // ctx.fillStyle = gradient;
            // ctx.fillRect(0,0, canvas.width, canvas.height);
//curves on background
            // ctx.strokeStyle = "#6f6e62";
            // ctx.fillStyle = "#e8b948";

            // ctx.beginPath();
            // ctx.moveTo(50,300);
            // ctx.bezierCurveTo(450,-50, -150,-50, 250,300);
            // ctx.fill();

            // ctx.beginPath();
            // ctx.moveTo(50,0);
            // ctx.bezierCurveTo(150,100, 150,100, 250,0);
            // ctx.fill();
// game board
            ctx.fillStyle = "#fffbb3";
            ctx.strokeStyle = "#989681"; 
            ctx.lineWidth = 2;
            // ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.strokeRect(1, 1, canvas.width-2, canvas.height-2);
            
// game cells   
            let cellSize = 40;
            let gridWidth = cellSize*7;
            let gridHeight = cellSize*6;
            let gridOffsetLeft = Math.floor((canvas.width - gridWidth)/2);
            let gridOffsetTop = Math.floor((canvas.height - gridHeight)/2);

            ctx.save();
            ctx.translate(gridOffsetLeft, gridOffsetTop);
// drawing game cells
            ctx.beginPath();
// // drawing vertical lines
//             for (let i = 0; i < 8; i++) {
//                ctx.moveTo(i*cellSize + 0.5, 0);
//                ctx.lineTo(i*cellSize + 0.5, cellSize*6 )                
//             }
// // drawing horizontal lines
//             for (let j = 0; j < 7; j++) {
//                ctx.moveTo(0, j*cellSize + 0.5);
//                ctx.lineTo(cellSize*7, j*cellSize + 0.5 )                
//             }
// stroking in order to screen lines
            // ctx.lineWidth = 1;
            // ctx.strokeStyle = "#989681"; 
            // ctx.stroke();
// dots info
            let data = [
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0],
                [0,0,0,2,1,0,0],
                [0,0,2,1,1,2,0],
            ]

            ctx.strokeStyle="#000";
            ctx.lineWidth=3;
// drawing dots
            for (let i = 0; i < data.length; i++) {
                for (let j = 0; j < data.length; j++) {
                    let value = data[i][j];
                    // if (!value) {
                    //     continue;
                    // }
                    // let color;
                    // switch (value) {
                    //     case 1:
                    //         color = "#000"
                    //         break;
                    //     case 2:
                    //         color = "#7f796c"
                    //         break;
                    //     // default:
                    //     //     break;
                    // }
                    // ctx.save();
                    // ctx.translate((j + 0.5) * cellSize, (i + 0.5) * cellSize);
// gradient of dots
    // dots center
                // let x = (j + 0.5) * cellSize;
                // let y = (i + 0.5) * cellSize;
                // let radius = cellSize * 0.4;
    // gradient center
            //     let gradientX = x + cellSize * 0.1;
            //     let gradientY = y - cellSize * 0.1;

            //     let gradient = ctx.createRadialGradient(
            //         gradientX, gradientY, cellSize*0.1, // inner circle
            //         gradientX, gradientY, radius*1.2);  // outer circle

            //     gradient.addColorStop(0, "yellow");     // light
            //     gradient.addColorStop(1, color);        // dot color
            //     ctx.fillStyle = gradient;

            //     ctx.beginPath();
            //     ctx.arc(x, y, radius, 0, 2*Math.PI, true);
            //     ctx.fill();
                
                }
            }
            // ctx.restore();
        }
        </script> 
    </head>
    <body onload="init()">
        <canvas id="mainCanvas" width="300px" height="300px"></canvas>
    </body> 
</html>
